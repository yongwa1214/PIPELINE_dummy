<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.green.pipeline_dummy.application.community_review.ReviewMapper">
    <insert id="saveReview">
        INSERT IGNORE INTO community_review
        SET gm_profile_id = #{gmProfileId}
        ,game_id = #{gameId}
        ,review_contents = #{reviewContents}
        ,review_like_count = #{reviewLikeCount}
        ,recommend = #{recommend}
        ,created_at = #{createdAt}
        ,updated_at = #{updatedAt}
    </insert>

    <insert id="saveReviewComment">
        INSERT IGNORE INTO community_review_comment
        SET user_id = #{userId}
        ,review_id = #{reviewId}
        ,review_comment_contents = #{reviewCommentContents}
        ,created_at = #{createdAt}
        ,updated_at = #{updatedAt}
    </insert>

    <select id="findReview">
        SELECT review_id
        FROM community_review
    </select>

</mapper>