<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.green.pipeline_dummy.application.regional_price.RegionalPriceMapper">
    <select id="saveRegionalPrice">
        INSERT IGNORE INTO regional_price
        SET country_code = #{countryCode}
        ,currency_code = #{currencyCode}
        ,game_id = #{gameId}
        ,price_amount = #{priceAmount}
        ,created_at = #{createdAt}
    </select>

    <select id="findPrimaryCurrency">
        SELECT currency_code
        FROM country_currency
        WHERE country_code = #{countryCode}
        AND is_primary = 1
    </select>
</mapper>